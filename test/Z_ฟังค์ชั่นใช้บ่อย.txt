sum_result = 0;
json_alldata.forEach(item => {
    sum_result += item.NETAMT;
});



$('#idForm').on('submit', function(e) {
    e.preventDefault(); // ป้องกันการส่ง form ไปยังหน้าอื่น
    // ตรวจสอบว่าปุ่มที่ถูกคลิกคือ "save" หรือ "edit"
    let url = "";
    let status_sql = "";

    var clickedButtonName = e.originalEvent.submitter.name;
    if (clickedButtonName === 'editmodal') {
        let url = 'ajax/process_update.php';
        let status_sql = 'update';
        DataEditValue()
        AlertSave(url, status_sql)
    } else if (clickedButtonName === 'removerow') {
        let url = 'ajax/process_delete.php';
        let status_sql = 'delete';
        AlertSave(url, status_sql)
    }
});



function AlertSave(url, status_sql) {
    Swal.fire({
        title: 'คุณแน่ใจแล้วใช่ไหม',
        text: message_alert,
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'ตกลงบันทึก',
        cancelButtonText: 'ยกเลิก',
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        customClass: {
            confirmButton: 'ok',
            cancelButton: 'cancel'
        },
        reverseButtons: true
    }).then((result) => {
        if (result.isConfirmed) {
            $('.loading').show();
            CRUDSQL(url, status_sql);
        } else if (result.dismiss === Swal.DismissReason.cancel) {
            Swal.fire(
                'ยกเลิก',
                'ยังไม่มีการบันทึก',
                'error'
            )
        }
    })
}